[gd_scene load_steps=21 format=2]

[ext_resource path="res://scenes/enemies/big_boss/big_boss.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/player/player.tscn" type="PackedScene" id=2]
[ext_resource path="res://assets/environmental_models/dirt_bit.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/level_parts/drop_trigger/drop_trigger.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/levels/fall_tower.gd" type="Script" id=5]
[ext_resource path="res://assets/blend_files/level_geom/creepy_room/bloodroom.png" type="Texture" id=6]
[ext_resource path="res://scenes/levels/boss_holder.gd" type="Script" id=7]
[ext_resource path="res://scenes/level_parts/killzone/killzone.tscn" type="PackedScene" id=8]
[ext_resource path="res://scenes/level_parts/shot_point.tscn" type="PackedScene" id=9]

[sub_resource type="ProceduralSky" id=14]
sky_top_color = Color( 0.615686, 0.168627, 0.121569, 1 )
sky_horizon_color = Color( 0.780392, 0.933333, 0.6, 1 )
sky_energy = 2.77
sun_color = Color( 0.976471, 0.168627, 0.168627, 1 )
texture_size = 0

[sub_resource type="Environment" id=4]
background_mode = 2
background_sky = SubResource( 14 )
background_sky_custom_fov = 1.6
background_color = Color( 0.329412, 0.0117647, 0.0117647, 1 )

[sub_resource type="NavigationMesh" id=5]
vertices = PoolVector3Array( -4.18626, 51.8245, -14.9559, -4.18626, 51.8245, -6.20585, 4.81374, 51.8245, -6.20585, 4.81374, 51.8245, -14.9559, -4.18626, 51.8245, -4.70585, -4.18626, 51.8245, 2.54415, -2.68626, 51.8245, 2.54415, -2.68626, 51.8245, -4.70585, -1.43626, 51.8245, -4.70585, -1.43626, 51.8245, 2.54415, 2.56374, 51.8245, 2.54415, 2.56374, 51.8245, -4.70585, 4.06374, 51.8245, -4.70585, 4.06374, 51.8245, 2.54415, 4.81374, 51.8245, 2.54415, 4.81374, 51.8245, -4.70585 )
polygons = [ PoolIntArray( 3, 2, 0 ), PoolIntArray( 0, 2, 1 ), PoolIntArray( 7, 6, 4 ), PoolIntArray( 4, 6, 5 ), PoolIntArray( 11, 10, 8 ), PoolIntArray( 8, 10, 9 ), PoolIntArray( 15, 14, 12 ), PoolIntArray( 12, 14, 13 ) ]
geometry_parsed_geometry_type = 1
geometry_source_geometry_mode = 1
geometry_source_group_name = "nav_mesh"

[sub_resource type="Animation" id=6]
resource_name = "drop_forward"
length = 0.6
tracks/0/type = "value"
tracks/0/path = NodePath(".:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.6 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector3( 0, 0, 0 ), Vector3( 0, 500, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.6 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}

[sub_resource type="BoxShape" id=15]
extents = Vector3( 88.649, 1, 91.0798 )

[sub_resource type="CylinderMesh" id=7]
top_radius = 32.847
bottom_radius = 22.656
height = 3.762

[sub_resource type="SpatialMaterial" id=9]
flags_unshaded = true
albedo_color = Color( 0.733333, 0.152941, 0.152941, 1 )
albedo_texture = ExtResource( 6 )
uv1_scale = Vector3( 0.702, 0.657, 1 )
uv1_offset = Vector3( 0.336, -0.008, 0 )

[sub_resource type="ConvexPolygonShape" id=8]
points = PoolVector3Array( 0, 1.881, -32.847, 0, 1.12831, -30.815, -3.22168, 1.881, -32.6927, 3.21525, 1.881, -32.6927, 2.61721, -0.376347, -26.6094, 0, -1.881, -22.6611, -2.62365, -0.376347, -26.6094, -5.61383, 0.375979, -28.2235, -6.41121, 1.881, -32.2168, 6.40478, 1.881, -32.2168, 5.6074, 0.375979, -28.2235, 5.21514, -0.376347, -26.2236, 2.21852, -1.881, -22.5518, -2.22495, -1.881, -22.5518, -5.22157, -0.376347, -26.2236, -9.53643, 1.881, -31.4387, 9.53, 1.881, -31.4387, 7.75518, -0.376347, -25.587, 4.41776, -1.881, -22.2238, -4.42418, -1.881, -22.2238, -7.76162, -0.376347, -25.587, -11.7935, 1.12831, -28.4678, -12.5716, 1.881, -30.352, -8.67475, -1.881, -20.9377, 8.66832, -1.881, -20.9377, 12.5652, 1.881, -30.352, 11.7871, 1.12831, -28.4678, 6.57197, -1.881, -21.6837, -6.5784, -1.881, -21.6837, -14.5265, 1.12831, -27.1753, -15.4846, 1.881, -28.9694, -10.6811, -1.881, -19.986, 14.5201, 1.12831, -27.1753, 10.6746, -1.881, -19.986, 15.4782, 1.881, -28.9694, -15.9862, 0.375979, -23.9279, -18.2498, 1.881, -27.3168, -12.5909, -1.881, -18.8414, 18.2433, 1.881, -27.3168, 15.9798, 0.375979, -23.9279, 12.5845, -1.881, -18.8414, -14.3786, -1.881, -17.5167, -19.5487, 1.12831, -23.8186, -20.8413, 1.881, -25.394, 20.8348, 1.881, -25.394, 19.5423, 1.12831, -23.8186, 14.3722, -1.881, -17.5167, -16.0248, -1.881, -16.0248, -21.7865, 1.12831, -21.7865, -23.227, 1.881, -23.227, 23.2205, 1.881, -23.227, 21.7801, 1.12831, -21.7865, 16.0184, -1.881, -16.0248, -17.5167, -1.881, -14.3786, -23.8186, 1.12831, -19.5487, -25.394, 1.881, -20.8413, 25.3876, 1.881, -20.8413, 23.8121, 1.12831, -19.5487, 17.5103, -1.881, -14.3786, -18.8414, -1.881, -12.5909, -23.9279, 0.375979, -15.9862, -27.3168, 1.881, -18.2498, 27.3103, 1.881, -18.2498, 23.9215, 0.375979, -15.9862, 18.8349, -1.881, -12.5909, -19.986, -1.881, -10.6811, -27.1753, 1.12831, -14.5265, -28.9694, 1.881, -15.4846, 28.963, 1.881, -15.4846, 27.1689, 1.12831, -14.5265, 19.9796, -1.881, -10.6811, -20.9377, -1.881, -8.67475, -28.4678, 1.12831, -11.7935, -30.352, 1.881, -12.5716, 30.3455, 1.881, -12.5716, 28.4614, 1.12831, -11.7935, 20.9313, -1.881, -8.67475, -21.6837, -1.881, -6.5784, -25.587, -0.376347, -7.76162, -31.4387, 1.881, -9.53643, 31.4323, 1.881, -9.53643, 21.6772, -1.881, -6.5784, 25.5805, -0.376347, -7.76162, -22.2238, -1.881, -4.42418, -26.2236, -0.376347, -5.22157, -32.2168, 1.881, -6.41121, -28.2235, 0.375979, -5.61383, 32.2104, 1.881, -6.41121, 28.217, 0.375979, -5.61383, 26.2172, -0.376347, -5.22157, 22.2174, -1.881, -4.42418, -22.5518, -1.881, -2.22495, -26.6094, -0.376347, -2.62365, -32.6927, 1.881, -3.22168, 32.6862, 1.881, -3.22168, 26.603, -0.376347, -2.62365, 22.5453, -1.881, -2.22495, -22.6611, -1.881, 0, -30.815, 1.12831, 0, -32.847, 1.881, 0, 32.847, 1.881, 0, 30.8085, 1.12831, 0, 22.6547, -1.881, 0, -22.5518, -1.881, 2.21852, -26.6094, -0.376347, 2.61721, -32.6927, 1.881, 3.21525, 32.6862, 1.881, 3.21525, 26.603, -0.376347, 2.61721, 22.5453, -1.881, 2.21852, -22.2238, -1.881, 4.41776, -26.2236, -0.376347, 5.21514, -28.2235, 0.375979, 5.6074, -32.2168, 1.881, 6.40478, 32.2104, 1.881, 6.40478, 28.217, 0.375979, 5.6074, 26.2172, -0.376347, 5.21514, 22.2174, -1.881, 4.41776, -21.6837, -1.881, 6.57197, -25.587, -0.376347, 7.75518, -31.4387, 1.881, 9.53, 31.4323, 1.881, 9.53, 25.5805, -0.376347, 7.75518, 21.6772, -1.881, 6.57197, -20.9377, -1.881, 8.66832, -30.352, 1.881, 12.5652, -28.4678, 1.12831, 11.7871, 30.3455, 1.881, 12.5652, 28.4614, 1.12831, 11.7871, 20.9313, -1.881, 8.66832, -19.986, -1.881, 10.6746, -27.1753, 1.12831, 14.5201, -28.9694, 1.881, 15.4782, 28.963, 1.881, 15.4782, 27.1689, 1.12831, 14.5201, 19.9796, -1.881, 10.6746, -23.9279, 0.375979, 15.9798, -18.8414, -1.881, 12.5845, -27.3168, 1.881, 18.2433, 27.3103, 1.881, 18.2433, 23.9215, 0.375979, 15.9798, 18.8349, -1.881, 12.5845, -23.8186, 1.12831, 19.5423, -17.5167, -1.881, 14.3722, -25.394, 1.881, 20.8348, 25.3876, 1.881, 20.8348, 23.8121, 1.12831, 19.5423, 17.5103, -1.881, 14.3722, -21.7865, 1.12831, 21.7801, -16.0248, -1.881, 16.0184, -23.227, 1.881, 23.2205, 23.2205, 1.881, 23.2205, 21.7801, 1.12831, 21.7801, 16.0184, -1.881, 16.0184, -19.5487, 1.12831, 23.8121, -20.8413, 1.881, 25.3876, -14.3786, -1.881, 17.5103, 20.8348, 1.881, 25.3876, 19.5423, 1.12831, 23.8121, 14.3722, -1.881, 17.5103, -15.9862, 0.375979, 23.9215, -18.2498, 1.881, 27.3103, -12.5909, -1.881, 18.8349, 18.2433, 1.881, 27.3103, 15.9798, 0.375979, 23.9215, 12.5845, -1.881, 18.8349, -10.6811, -1.881, 19.9796, -14.5265, 1.12831, 27.1689, -15.4846, 1.881, 28.963, 15.4782, 1.881, 28.963, 14.5201, 1.12831, 27.1689, 10.6746, -1.881, 19.9796, -8.67475, -1.881, 20.9313, -11.7935, 1.12831, 28.4614, -12.5716, 1.881, 30.3455, 12.5652, 1.881, 30.3455, 11.7871, 1.12831, 28.4614, 8.66832, -1.881, 20.9313, -6.5784, -1.881, 21.6772, -7.76162, -0.376347, 25.5805, -9.53643, 1.881, 31.4323, 9.53, 1.881, 31.4323, 7.75518, -0.376347, 25.5805, 6.57197, -1.881, 21.6772, -4.42418, -1.881, 22.2174, -5.22157, -0.376347, 26.2172, -5.61383, 0.375979, 28.217, -6.41121, 1.881, 32.2104, 6.40478, 1.881, 32.2104, 5.6074, 0.375979, 28.217, 5.21514, -0.376347, 26.2172, 4.41776, -1.881, 22.2174, -2.22495, -1.881, 22.5453, -2.62365, -0.376347, 26.603, -3.22168, 1.881, 32.6862, 3.21525, 1.881, 32.6862, 2.61721, -0.376347, 26.603, 2.21852, -1.881, 22.5453, 0, -1.881, 22.6547, 0, 1.12831, 30.8085, 0, 1.881, 32.847 )

[sub_resource type="SphereMesh" id=10]
radius = 88.622
height = 177.244

[sub_resource type="StreamTexture" id=11]
flags = 16
load_path = "res://.import/bloodroom.png-5df506bf77b648488e0d5fd8ea58e921.stex"

[sub_resource type="SpatialMaterial" id=12]
flags_unshaded = true
params_cull_mode = 1
albedo_color = Color( 0.764706, 0.972549, 0.764706, 1 )
albedo_texture = SubResource( 11 )
uv1_scale = Vector3( 0.946, 1.036, 1.092 )
uv1_offset = Vector3( 0.011, 0, 0 )

[node name="level_four" type="Spatial" groups=["level_parent"]]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 4 )

[node name="Navigation" type="Navigation" parent="." groups=["nav"]]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Navigation"]
visible = false
navmesh = SubResource( 5 )

[node name="player" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 64.8607, 1.63526 )

[node name="fall_tower" type="Spatial" parent="."]
script = ExtResource( 5 )

[node name="dirt_bit" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -2.06035, 46.5745, -0.626002 )

[node name="dirt_bit2" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, 46.5745, -5.45585 )

[node name="dirt_bit5" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 0, 1, 2.98023e-08, -1, 0, -1.3027e-15, 0.313738, 51.2839, -5.45585 )

[node name="dirt_bit10" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 0, 1, 2.98023e-08, -1, 0, -1.3027e-15, 0.313738, 75.4085, -5.45585 )

[node name="dirt_bit4" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, 46.5745, 3.18928 )

[node name="dirt_bit3" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 3.36511, 46.5745, -0.801909 )

[node name="dirt_bit11" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -2.06035, 26.6764, -0.626002 )

[node name="dirt_bit12" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, 26.6764, -5.45585 )

[node name="dirt_bit13" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, 26.6764, 3.18928 )

[node name="dirt_bit14" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 3.36511, 26.6764, -0.801909 )

[node name="dirt_bit15" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -2.06035, 7.15239, -0.626002 )

[node name="dirt_bit16" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, 7.15239, -5.45585 )

[node name="dirt_bit17" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, 7.15239, 3.18928 )

[node name="dirt_bit18" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 3.36511, 7.15239, -0.801909 )

[node name="dirt_bit19" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -2.06035, -12.5838, -0.626002 )

[node name="dirt_bit20" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, -12.5838, -5.45585 )

[node name="dirt_bit21" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, -12.5838, 3.18928 )

[node name="dirt_bit22" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 3.36511, -12.5838, -0.801909 )

[node name="dirt_bit23" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -2.06035, -32.2238, -0.626002 )

[node name="dirt_bit24" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, -32.2238, -5.45585 )

[node name="dirt_bit25" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, -32.2238, 3.18928 )

[node name="dirt_bit26" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 3.36511, -32.2238, -0.801909 )

[node name="dirt_bit27" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -2.06035, -50.4091, -0.626002 )

[node name="dirt_bit28" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, -50.4091, -5.45585 )

[node name="dirt_bit29" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, -50.4091, 3.18928 )

[node name="dirt_bit30" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 3.36511, -50.4091, -0.801909 )

[node name="dirt_bit6" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -2.06035, 66.5379, -0.626002 )

[node name="dirt_bit7" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, 66.5379, -5.45585 )

[node name="dirt_bit8" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -1.77636e-15, -2.98023e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, 2.98023e-08, 0.313738, 66.5379, 3.18928 )

[node name="dirt_bit9" parent="fall_tower" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 3.36511, 66.5379, -0.801909 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="fall_tower"]
anims/drop_forward = SubResource( 6 )

[node name="triggers" type="Spatial" parent="."]

[node name="drop_trigger" parent="triggers" instance=ExtResource( 4 )]
transform = Transform( 3.247, 0, 0, 0, 3.092, 0, 0, 0, 1.569, 0.572248, 54.1317, -3.79298 )
dropped_platform = NodePath("../../fall_tower/dirt_bit5")
drop_direction = "left"

[node name="drop_trigger2" parent="triggers" instance=ExtResource( 4 )]
transform = Transform( 35.62, 0, 0, 0, 3.216, 0, 0, 0, 33.74, 0.572248, -76.8944, -0.0252411 )
dropped_platform = NodePath("../../fall_tower")
drop_direction = "left"
boss_revealer = true

[node name="arena" type="Spatial" parent="."]

[node name="StaticBody" type="StaticBody" parent="arena"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -128.578, 0 )

[node name="CollisionShape2" type="CollisionShape" parent="arena/StaticBody"]
shape = SubResource( 15 )

[node name="killzone" parent="arena" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -123.957, 0 )

[node name="shoot_points" type="Spatial" parent="arena"]

[node name="shot_point" parent="arena/shoot_points" instance=ExtResource( 9 )]

[node name="boss_holder" type="Spatial" parent="arena"]
script = ExtResource( 7 )

[node name="big_boss" parent="arena/boss_holder" groups=["boss"] instance=ExtResource( 1 )]
unique_name_in_owner = true
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.15018, -55.9471, -54.7475 )

[node name="floor" type="MeshInstance" parent="arena"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -88.8722, 0 )
mesh = SubResource( 7 )
material/0 = SubResource( 9 )

[node name="StaticBody" type="StaticBody" parent="arena/floor"]
collision_layer = 3
collision_mask = 3

[node name="CollisionShape" type="CollisionShape" parent="arena/floor/StaticBody"]
shape = SubResource( 8 )

[node name="room" type="MeshInstance" parent="arena"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -71.1925, 0 )
mesh = SubResource( 10 )
material/0 = SubResource( 12 )
